{
  "tag": "Entity Relationship Types [Beta]",
  "endpoint_count": 5,
  "schema_count": 6,
  "endpoints_summary": [
    {
      "method": "GET",
      "path": "/api/v1/relationship-types",
      "operation_id": "listRelationshipTypes",
      "summary": "List relationship types"
    },
    {
      "method": "POST",
      "path": "/api/v1/relationship-types",
      "operation_id": "createRelationshipType",
      "summary": "Create relationship type"
    },
    {
      "method": "DELETE",
      "path": "/api/v1/relationship-types/{relationshipTypeTag}",
      "operation_id": "deleteRelationshipType",
      "summary": "Delete a relationship type"
    },
    {
      "method": "GET",
      "path": "/api/v1/relationship-types/{relationshipTypeTag}",
      "operation_id": "getRelationshipTypeDetails",
      "summary": "Get a relationship type"
    },
    {
      "method": "PUT",
      "path": "/api/v1/relationship-types/{relationshipTypeTag}",
      "operation_id": "updateRelationshipType",
      "summary": "Update relationship type"
    }
  ],
  "endpoints": [
    {
      "path": "/api/v1/relationship-types",
      "method": "GET",
      "operation_id": "listRelationshipTypes",
      "summary": "List relationship types",
      "details": {
        "description": "List paginated relationship types",
        "operationId": "listRelationshipTypes",
        "parameters": [
          {
            "description": "Number of results to return per page, between 1 and 1000. Default 250.",
            "in": "query",
            "name": "pageSize",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 250
            }
          },
          {
            "description": "Page number to return, 0-indexed. Default 0.",
            "in": "query",
            "name": "page",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedEntityRelationshipTypeResponse"
                }
              }
            },
            "description": "Successfully found entity relationship types"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        },
        "summary": "List relationship types",
        "tags": [
          "Entity Relationship Types [Beta]"
        ],
        "x-cortex-mcp-description": "List all available relationship types with pagination. View relationship type configurations to understand what kinds of relationships can be created between entities like services, resources, domains, and teams",
        "x-cortex-mcp-enabled": "true"
      }
    },
    {
      "path": "/api/v1/relationship-types",
      "method": "POST",
      "operation_id": "createRelationshipType",
      "summary": "Create relationship type",
      "details": {
        "description": "Create a relationship type",
        "operationId": "createRelationshipType",
        "requestBody": {
          "content": {
            "application/json": {
              "examples": {
                "Entity Relationship Type Example": {
                  "description": "Entity Relationship Type Example",
                  "summary": "Creates a relationship type that groups services into components",
                  "value": "{\n                        \"name\": \"Component Hierarchy\",\n                        \"tag\": \"component-hierarchy\",\n                        \"description\": \"Defines the component hierarchy.\",\n                        \"definitionLocation\": \"BOTH\",\n                        \"isSingleSource\": true,\n                        \"sourcesFilter\": {\n                            \"include\": true,\n                            \"types\": [\"component\"]\n                        },\n                        \"isSingleDestination\": false,\n                        \"destinationsFilter\": {\n                            \"include\": true,\n                            \"types\": [\"service\", \"component]\n                        },\n                        \"inheritances\": [\n                            {\n                                \"parameterTag\": \"x-cortex-owners\",\n                                \"inheritanceType\": \"FALLBACK\"\n                            }\n                        ],\n                        \"allowCycles\": false,\n                        \"sourceLabelSingular\": \"Component\",\n                        \"sourceLabelPlural\": \"Components\",\n                        \"destinationLabelSingular\": \"Part\",\n                        \"destinationLabelPlural\": \"Parts\",\n                        \"createCatalog\": false\n                    }"
                }
              },
              "schema": {
                "$ref": "#/components/schemas/EntityRelationshipTypeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntityRelationshipTypeResponse"
                }
              }
            },
            "description": "Successfully created relationship type"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Validation error creating relationship type"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        },
        "summary": "Create relationship type",
        "tags": [
          "Entity Relationship Types [Beta]"
        ],
        "x-cortex-mcp-enabled": "false"
      }
    },
    {
      "path": "/api/v1/relationship-types/{relationshipTypeTag}",
      "method": "DELETE",
      "operation_id": "deleteRelationshipType",
      "summary": "Delete a relationship type",
      "details": {
        "description": "Delete a relationship type",
        "operationId": "deleteRelationshipType",
        "parameters": [
          {
            "in": "path",
            "name": "relationshipTypeTag",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully deleted relationship type"
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Validation error deleting relationship type"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        },
        "summary": "Delete a relationship type",
        "tags": [
          "Entity Relationship Types [Beta]"
        ],
        "x-cortex-mcp-enabled": "false"
      }
    },
    {
      "path": "/api/v1/relationship-types/{relationshipTypeTag}",
      "method": "GET",
      "operation_id": "getRelationshipTypeDetails",
      "summary": "Get a relationship type",
      "details": {
        "description": "List details for a relationship type",
        "operationId": "getRelationshipTypeDetails",
        "parameters": [
          {
            "in": "path",
            "name": "relationshipTypeTag",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntityRelationshipTypeResponse"
                }
              }
            },
            "description": "Successfully found relationship type"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Relationship type not found"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        },
        "summary": "Get a relationship type",
        "tags": [
          "Entity Relationship Types [Beta]"
        ],
        "x-cortex-mcp-description": "Get complete details of a specific relationship type including its configuration, rules, source/destination filters, and inheritance settings. Essential for understanding how entities can be connected and what validation rules apply",
        "x-cortex-mcp-enabled": "true"
      }
    },
    {
      "path": "/api/v1/relationship-types/{relationshipTypeTag}",
      "method": "PUT",
      "operation_id": "updateRelationshipType",
      "summary": "Update relationship type",
      "details": {
        "description": "Update relationship type",
        "operationId": "updateRelationshipType",
        "parameters": [
          {
            "in": "path",
            "name": "relationshipTypeTag",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EntityRelationshipTypeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntityRelationshipTypeResponse"
                }
              }
            },
            "description": "Successfully updated relationship type"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Validation error updating relationship type"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        },
        "summary": "Update relationship type",
        "tags": [
          "Entity Relationship Types [Beta]"
        ],
        "x-cortex-mcp-enabled": "false"
      }
    }
  ],
  "schemas": {
    "PaginatedEntityRelationshipTypeResponse": {
      "required": [
        "page",
        "relationshipTypes",
        "total",
        "totalPages"
      ],
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "description": "Current page number, 0-indexed",
          "format": "int32"
        },
        "relationshipTypes": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/EntityRelationshipTypeResponse"
          }
        },
        "total": {
          "type": "integer",
          "description": "Total number of results",
          "format": "int32"
        },
        "totalPages": {
          "type": "integer",
          "description": "Total number of pages",
          "format": "int32"
        }
      }
    },
    "ErrorResponse": {
      "required": [
        "message",
        "type"
      ],
      "type": "object",
      "properties": {
        "details": {
          "type": "string"
        },
        "gatewayHttpStatus": {
          "type": "integer",
          "format": "int32"
        },
        "httpStatus": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "requestId": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "INTEGRATION_MISSING",
            "INTEGRATION_UNREGISTERED",
            "INTEGRATION_UNSUPPORTED",
            "INTEGRATION_GRAPHQL_ERROR",
            "INTEGRATION_BAD_REQUEST",
            "INTEGRATION_UNAUTHORIZED",
            "INTEGRATION_FORBIDDEN",
            "INTEGRATION_NOT_FOUND",
            "INTEGRATION_UNPROCESSABLE_CONTENT",
            "INTEGRATION_RATE_LIMITED",
            "INTEGRATION_INTERNAL_ERROR",
            "INTEGRATION_NOT_IMPLEMENTED",
            "INTEGRATION_BAD_GATEWAY",
            "INTEGRATION_UNAVAILABLE",
            "INTEGRATION_GATEWAY_TIMEOUT",
            "INTEGRATION_TIMED_OUT",
            "INTEGRATION_CACHE_ERROR",
            "INTEGRATION_UNHANDLED_HTTP_ERROR",
            "INTEGRATION_UNHANDLED_EXCEPTION",
            "INTEGRATION_UNEXPECTED_ERROR",
            "ILLEGAL_ARGUMENT_ERROR",
            "BAD_REQUEST",
            "FORBIDDEN",
            "NOT_FOUND",
            "REQUEST_TIMEOUT",
            "CONFLICT",
            "UNHANDLED_EXCEPTION",
            "UNCATEGORIZED",
            "SERVICE_CREATOR",
            "UNKNOWN_HOST"
          ]
        }
      }
    },
    "EntityRelationshipTypeResponse": {
      "required": [
        "allowCycles",
        "definitionLocation",
        "destinationsFilter",
        "inheritances",
        "isCortexManaged",
        "isSingleDestination",
        "isSingleSource",
        "name",
        "sourcesFilter",
        "tag"
      ],
      "type": "object",
      "properties": {
        "allowCycles": {
          "type": "boolean",
          "description": "Whether cyclical relationships are allowed",
          "example": false
        },
        "definitionLocation": {
          "type": "string",
          "description": "Defines where a relationship can be configured in entity descriptors",
          "example": "BOTH",
          "enum": [
            "SOURCE",
            "DESTINATION",
            "BOTH"
          ]
        },
        "description": {
          "type": "string",
          "description": "Optional description explaining the relationship type",
          "example": "Defines the component hierarchy"
        },
        "destinationLabelPlural": {
          "type": "string",
          "description": "Plural label for destinations in the relationship",
          "example": "Parts"
        },
        "destinationLabelSingular": {
          "type": "string",
          "description": "Singular label for destinations in the relationship",
          "example": "Part"
        },
        "destinationNamePlural": {
          "type": "string"
        },
        "destinationNameSingular": {
          "type": "string"
        },
        "destinationsFilter": {
          "$ref": "#/components/schemas/EntityTypeFilter"
        },
        "inheritances": {
          "type": "array",
          "description": "Inheritance configuration for Cortex parameters. Currently supports ownership inheritance via x-cortex-owners.",
          "items": {
            "$ref": "#/components/schemas/EntityRelationshipTypeInheritanceView"
          }
        },
        "isCortexManaged": {
          "type": "boolean",
          "description": "Whether this relationship type is managed by Cortex",
          "example": false
        },
        "isSingleDestination": {
          "type": "boolean",
          "description": "Whether an entity can have only one destination for this relationship type",
          "example": false
        },
        "isSingleSource": {
          "type": "boolean",
          "description": "Whether an entity can have only one source for this relationship type",
          "example": false
        },
        "name": {
          "type": "string",
          "description": "Human-readable name for the relationship type",
          "example": "Component Hierarchy"
        },
        "sourceLabelPlural": {
          "type": "string",
          "description": "Plural label for sources in the relationship",
          "example": "Components"
        },
        "sourceLabelSingular": {
          "type": "string",
          "description": "Singular label for sources in the relationship",
          "example": "Component"
        },
        "sourceNamePlural": {
          "type": "string"
        },
        "sourceNameSingular": {
          "type": "string"
        },
        "sourcesFilter": {
          "$ref": "#/components/schemas/EntityTypeFilter"
        },
        "tag": {
          "type": "string",
          "description": "Unique identifier tag for the relationship type",
          "example": "component-hierarchy"
        }
      },
      "description": "Response containing relationship type details"
    },
    "EntityRelationshipTypeInheritanceView": {
      "required": [
        "inheritanceType",
        "parameterTag"
      ],
      "type": "object",
      "properties": {
        "inheritanceType": {
          "type": "string",
          "description": "How relationship inheritance should be handled for this parameter",
          "enum": [
            "NONE",
            "FALLBACK",
            "APPEND",
            "CONFIGURE_AT_SOURCE"
          ]
        },
        "parameterTag": {
          "type": "string"
        }
      },
      "description": "Inheritance configuration for Cortex parameters. Currently supports ownership inheritance via x-cortex-owners."
    },
    "EntityTypeFilter": {
      "required": [
        "include",
        "types"
      ],
      "type": "object",
      "properties": {
        "include": {
          "type": "boolean"
        },
        "types": {
          "uniqueItems": true,
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "EntityRelationshipTypeRequest": {
      "required": [
        "allowCycles",
        "createCatalog",
        "definitionLocation",
        "destinationsFilter",
        "inheritances",
        "isSingleDestination",
        "isSingleSource",
        "name",
        "sourcesFilter",
        "tag"
      ],
      "type": "object",
      "properties": {
        "allowCycles": {
          "type": "boolean",
          "description": "Whether cyclical relationships are allowed",
          "example": false
        },
        "createCatalog": {
          "type": "boolean",
          "description": "Whether to create a catalog page for this relationship type",
          "example": false
        },
        "definitionLocation": {
          "type": "string",
          "description": "Defines where a relationship can be configured in entity descriptors",
          "example": "BOTH",
          "enum": [
            "SOURCE",
            "DESTINATION",
            "BOTH"
          ]
        },
        "description": {
          "type": "string",
          "description": "Optional description explaining the relationship type",
          "example": "Defines the component hierarchy"
        },
        "destinationLabelPlural": {
          "type": "string",
          "description": "Plural label for destinations in the relationship",
          "example": "Parts"
        },
        "destinationLabelSingular": {
          "type": "string",
          "description": "Singular label for destinations in the relationship",
          "example": "Part"
        },
        "destinationsFilter": {
          "$ref": "#/components/schemas/EntityTypeFilter"
        },
        "inheritances": {
          "type": "array",
          "description": "Inheritance configuration for Cortex parameters. Currently supports ownership inheritance via x-cortex-owners.",
          "items": {
            "$ref": "#/components/schemas/EntityRelationshipTypeInheritanceView"
          }
        },
        "isSingleDestination": {
          "type": "boolean",
          "description": "Whether an entity can have only one destination for this relationship type",
          "example": false
        },
        "isSingleSource": {
          "type": "boolean",
          "description": "Whether an entity can have only one source for this relationship type",
          "example": false
        },
        "name": {
          "type": "string",
          "description": "Human-readable name for the relationship type",
          "example": "Component Hierarchy"
        },
        "sourceLabelPlural": {
          "type": "string",
          "description": "Plural label for sources in the relationship",
          "example": "Components"
        },
        "sourceLabelSingular": {
          "type": "string",
          "description": "Singular label for sources in the relationship",
          "example": "Component"
        },
        "sourcesFilter": {
          "$ref": "#/components/schemas/EntityTypeFilter"
        },
        "tag": {
          "type": "string",
          "description": "Unique identifier tag for the relationship type",
          "example": "component-hierarchy"
        }
      },
      "description": "Request to create or update a relationship type"
    }
  },
  "referenced_common_schemas": []
}
